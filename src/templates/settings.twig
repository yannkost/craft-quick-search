{# Quick Search Settings Template #}

{% import "_includes/forms" as forms %}

<h2>{{ 'Display Settings'|t('quick-search') }}</h2>

{{ forms.lightswitchField({
    label: 'Compact Mode'|t('quick-search'),
    instructions: 'Use a more compact display for search results and history lists.'|t('quick-search'),
    id: 'compactMode',
    name: 'compactMode',
    on: settings.compactMode,
    errors: settings.getErrors('compactMode')
}) }}

{{ forms.lightswitchField({
    label: 'Show Section Filter'|t('quick-search'),
    instructions: 'Show the section filter dropdown in the search UI.'|t('quick-search'),
    id: 'showSectionFilter',
    name: 'showSectionFilter',
    on: settings.showSectionFilter,
    errors: settings.getErrors('showSectionFilter')
}) }}

{{ forms.lightswitchField({
    label: 'Show Entry Outline'|t('quick-search'),
    instructions: 'Display the entry outline button on entry pages.'|t('quick-search'),
    id: 'showEntryOutline',
    name: 'showEntryOutline',
    on: settings.showEntryOutline,
    errors: settings.getErrors('showEntryOutline')
}) }}

{{ forms.lightswitchField({
    label: 'Show Related Entries'|t('quick-search'),
    instructions: 'Display related entries button on entry pages.'|t('quick-search'),
    id: 'showRelatedEntries',
    name: 'showRelatedEntries',
    on: settings.showRelatedEntries,
    errors: settings.getErrors('showRelatedEntries')
}) }}

<hr>

<h2>{{ 'Search Settings'|t('quick-search') }}</h2>

{{ forms.checkboxSelectField({
    label: 'Searchable Sections'|t('quick-search'),
    instructions: 'Select which sections to include in search. "All" searches all sections.'|t('quick-search'),
    id: 'enabledSections',
    name: 'enabledSections',
    options: sections|map(section => {
        value: section.handle,
        label: section.name
    }),
    values: settings.enabledSections,
    showAllOption: true,
    errors: settings.getErrors('enabledSections')
}) }}

{{ forms.textField({
    label: 'Minimum Search Length'|t('quick-search'),
    instructions: 'Minimum number of characters required before search is triggered.'|t('quick-search'),
    id: 'minSearchLength',
    name: 'minSearchLength',
    value: settings.minSearchLength,
    type: 'number',
    min: 1,
    max: 10,
    required: true,
    errors: settings.getErrors('minSearchLength')
}) }}

{{ forms.textField({
    label: 'Debounce Delay'|t('quick-search'),
    instructions: 'Delay in milliseconds before search is triggered after typing stops.'|t('quick-search'),
    id: 'debounceDelay',
    name: 'debounceDelay',
    value: settings.debounceDelay,
    type: 'number',
    min: 100,
    max: 2000,
    required: true,
    errors: settings.getErrors('debounceDelay')
}) }}

{{ forms.textField({
    label: 'Search Results Limit'|t('quick-search'),
    instructions: 'Maximum number of search results to display.'|t('quick-search'),
    id: 'searchLimit',
    name: 'searchLimit',
    value: settings.searchLimit,
    type: 'number',
    min: 5,
    max: 100,
    required: true,
    errors: settings.getErrors('searchLimit')
}) }}

<hr>

<h2>{{ 'History Settings'|t('quick-search') }}</h2>

{{ forms.textField({
    label: 'History Limit'|t('quick-search'),
    instructions: 'Maximum number of entry visits to keep per user.'|t('quick-search'),
    id: 'historyLimit',
    name: 'historyLimit',
    value: settings.historyLimit,
    type: 'number',
    min: 1,
    max: 200,
    required: true,
    errors: settings.getErrors('historyLimit')
}) }}

{{ forms.textField({
    label: 'Favorites Limit'|t('quick-search'),
    instructions: 'Maximum number of favorites per user.'|t('quick-search'),
    id: 'maxFavorites',
    name: 'maxFavorites',
    value: settings.maxFavorites,
    type: 'number',
    min: 1,
    max: 50,
    required: true,
    errors: settings.getErrors('maxFavorites')
}) }}

<hr>

<h2>{{ 'Quick Access Overlay'|t('quick-search') }}</h2>

{{ forms.lightswitchField({
    label: 'Enable Quick Access Overlay'|t('quick-search'),
    instructions: 'Enable the keyboard-triggered overlay for quick access to history and favorites.'|t('quick-search'),
    id: 'quickAccessEnabled',
    name: 'quickAccessEnabled',
    on: settings.quickAccessEnabled,
    errors: settings.getErrors('quickAccessEnabled')
}) }}

{{ forms.textField({
    label: 'Keyboard Shortcut'|t('quick-search'),
    instructions: 'Keyboard shortcut to open the Quick Access Overlay. Use format like "ctrl+g" or "meta+g" (meta = Cmd on Mac). On Mac, "ctrl" will automatically be converted to "meta".'|t('quick-search'),
    id: 'quickAccessShortcut',
    name: 'quickAccessShortcut',
    value: settings.quickAccessShortcut,
    placeholder: 'ctrl+g',
    errors: settings.getErrors('quickAccessShortcut')
}) }}

{{ forms.selectField({
    label: 'Default Panel'|t('quick-search'),
    instructions: 'Which panel to focus when opening the Quick Access Overlay.'|t('quick-search'),
    id: 'quickAccessDefaultPanel',
    name: 'quickAccessDefaultPanel',
    value: settings.quickAccessDefaultPanel,
    options: [
        { value: 'history', label: 'History'|t('quick-search') },
        { value: 'favorites', label: 'Favorites'|t('quick-search') }
    ],
    errors: settings.getErrors('quickAccessDefaultPanel')
}) }}

{{ forms.lightswitchField({
    label: 'Show Entry Search'|t('quick-search'),
    instructions: 'Show the entry search input at the top of the Quick Access Overlay.'|t('quick-search'),
    id: 'quickAccessShowSearch',
    name: 'quickAccessShowSearch',
    on: settings.quickAccessShowSearch,
    errors: settings.getErrors('quickAccessShowSearch')
}) }}
